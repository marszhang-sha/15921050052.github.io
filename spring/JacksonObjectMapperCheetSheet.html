<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Jackson ObjectMapper CheetSheet | 油腻中年大叔</title>
    <meta name="description" content="你想要的这里都没有，你不想要的这里都有">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    
    <link rel="preload" href="/assets/css/styles.ded2f491.css" as="style"><link rel="preload" href="/assets/js/app.ded2f491.js" as="script"><link rel="preload" href="/assets/js/17.5759e4d8.js" as="script"><link rel="prefetch" href="/assets/js/0.eb7108e7.js"><link rel="prefetch" href="/assets/js/1.d8ec4d72.js"><link rel="prefetch" href="/assets/js/2.28f90b8d.js"><link rel="prefetch" href="/assets/js/3.6001361f.js"><link rel="prefetch" href="/assets/js/4.80c27a58.js"><link rel="prefetch" href="/assets/js/5.2e2f809b.js"><link rel="prefetch" href="/assets/js/6.0d0d8441.js"><link rel="prefetch" href="/assets/js/7.8e4037c3.js"><link rel="prefetch" href="/assets/js/8.5752a787.js"><link rel="prefetch" href="/assets/js/9.8329deb8.js"><link rel="prefetch" href="/assets/js/10.4843c5ba.js"><link rel="prefetch" href="/assets/js/11.9e8b7549.js"><link rel="prefetch" href="/assets/js/12.02c0fa30.js"><link rel="prefetch" href="/assets/js/13.f5d738e8.js"><link rel="prefetch" href="/assets/js/14.24f8e576.js"><link rel="prefetch" href="/assets/js/15.e752518b.js"><link rel="prefetch" href="/assets/js/16.d74da356.js"><link rel="prefetch" href="/assets/js/18.4e466a14.js"><link rel="prefetch" href="/assets/js/19.60a2d73f.js"><link rel="prefetch" href="/assets/js/20.c9a0e62d.js"><link rel="prefetch" href="/assets/js/21.40026d70.js"><link rel="prefetch" href="/assets/js/22.c5b0ef8a.js"><link rel="prefetch" href="/assets/js/23.6f254965.js"><link rel="prefetch" href="/assets/js/24.fcf66f98.js"><link rel="prefetch" href="/assets/js/25.76bed4da.js"><link rel="prefetch" href="/assets/js/26.a29ecb98.js"><link rel="prefetch" href="/assets/js/27.19c14279.js"><link rel="prefetch" href="/assets/js/28.da0a820a.js"><link rel="prefetch" href="/assets/js/29.ac0b92bb.js"><link rel="prefetch" href="/assets/js/30.2f36adb4.js"><link rel="prefetch" href="/assets/js/31.3b64636b.js"><link rel="prefetch" href="/assets/js/32.ab10440c.js"><link rel="prefetch" href="/assets/js/33.68e3f3f0.js"><link rel="prefetch" href="/assets/js/34.3996b8a2.js"><link rel="prefetch" href="/assets/js/35.6b7df171.js"><link rel="prefetch" href="/assets/js/36.01c663d5.js"><link rel="prefetch" href="/assets/js/37.24b862f7.js"><link rel="prefetch" href="/assets/js/38.27c698de.js"><link rel="prefetch" href="/assets/js/39.39eda98a.js"><link rel="prefetch" href="/assets/js/40.0d3a27e1.js"><link rel="prefetch" href="/assets/js/41.36133d84.js"><link rel="prefetch" href="/assets/js/42.4f708108.js"><link rel="prefetch" href="/assets/js/43.286ed069.js"><link rel="prefetch" href="/assets/js/44.69931ba8.js"><link rel="prefetch" href="/assets/js/45.9b6a53af.js"><link rel="prefetch" href="/assets/js/46.44e01f27.js"><link rel="prefetch" href="/assets/js/47.86ea0068.js"><link rel="prefetch" href="/assets/js/48.6d6e8398.js"><link rel="prefetch" href="/assets/js/49.eb3a0c16.js"><link rel="prefetch" href="/assets/js/50.5b9dbd38.js"><link rel="prefetch" href="/assets/js/51.e16cec94.js"><link rel="prefetch" href="/assets/js/52.08a38998.js"><link rel="prefetch" href="/assets/js/53.eab809f5.js"><link rel="prefetch" href="/assets/js/54.d13dbba6.js"><link rel="prefetch" href="/assets/js/55.6808ce92.js"><link rel="prefetch" href="/assets/js/56.096d270b.js"><link rel="prefetch" href="/assets/js/57.e4249cdf.js"><link rel="prefetch" href="/assets/js/58.c8669079.js"><link rel="prefetch" href="/assets/js/59.ad4f9d5d.js"><link rel="prefetch" href="/assets/js/60.1fb42366.js"><link rel="prefetch" href="/assets/js/61.cabe5660.js"><link rel="prefetch" href="/assets/js/62.fa1a1298.js"><link rel="prefetch" href="/assets/js/63.45ab79de.js"><link rel="prefetch" href="/assets/js/64.1b1f9f0e.js"><link rel="prefetch" href="/assets/js/65.8ec5686f.js"><link rel="prefetch" href="/assets/js/66.c678baef.js"><link rel="prefetch" href="/assets/js/67.19e5c964.js"><link rel="prefetch" href="/assets/js/68.1ed9f179.js"><link rel="prefetch" href="/assets/js/69.c24b07f2.js"><link rel="prefetch" href="/assets/js/70.0d51bff2.js"><link rel="prefetch" href="/assets/js/71.c4b4b293.js"><link rel="prefetch" href="/assets/js/72.14906a78.js"><link rel="prefetch" href="/assets/js/73.63ff0ad9.js"><link rel="prefetch" href="/assets/js/74.b9adca9b.js"><link rel="prefetch" href="/assets/js/75.545e5298.js"><link rel="prefetch" href="/assets/js/76.a0b47a49.js"><link rel="prefetch" href="/assets/js/77.7e27edab.js"><link rel="prefetch" href="/assets/js/78.1142e5fa.js"><link rel="prefetch" href="/assets/js/79.7c5cfce2.js"><link rel="prefetch" href="/assets/js/80.fc2c556d.js"><link rel="prefetch" href="/assets/js/81.8879b553.js"><link rel="prefetch" href="/assets/js/82.eacf1768.js"><link rel="prefetch" href="/assets/js/83.e45b0c21.js"><link rel="prefetch" href="/assets/js/84.1a4d1083.js"><link rel="prefetch" href="/assets/js/85.03758b26.js"><link rel="prefetch" href="/assets/js/86.ee483071.js"><link rel="prefetch" href="/assets/js/87.7b7f9f7e.js"><link rel="prefetch" href="/assets/js/88.ac9c1638.js"><link rel="prefetch" href="/assets/js/89.eb052447.js"><link rel="prefetch" href="/assets/js/90.422140a0.js"><link rel="prefetch" href="/assets/js/91.1590a6f8.js"><link rel="prefetch" href="/assets/js/92.96889e30.js"><link rel="prefetch" href="/assets/js/93.781dc372.js"><link rel="prefetch" href="/assets/js/94.67dfc4fd.js"><link rel="prefetch" href="/assets/js/95.2ec84126.js"><link rel="prefetch" href="/assets/js/96.9c8d4164.js"><link rel="prefetch" href="/assets/js/97.8e9b31ed.js"><link rel="prefetch" href="/assets/js/98.9842e1fc.js"><link rel="prefetch" href="/assets/js/99.393bed11.js"><link rel="prefetch" href="/assets/js/100.cce59a63.js"><link rel="prefetch" href="/assets/js/101.a716746b.js"><link rel="prefetch" href="/assets/js/102.8c93513c.js"><link rel="prefetch" href="/assets/js/103.d3a45484.js"><link rel="prefetch" href="/assets/js/104.ce471cd5.js"><link rel="prefetch" href="/assets/js/105.333da2a2.js"><link rel="prefetch" href="/assets/css/106.styles.2ca1612a.css"><link rel="prefetch" href="/assets/js/106.2ca1612a.js"><link rel="prefetch" href="/assets/css/107.styles.da40c964.css"><link rel="prefetch" href="/assets/js/107.da40c964.js">
    <link rel="stylesheet" href="/assets/css/106.styles.2ca1612a.css"><link rel="stylesheet" href="/assets/css/107.styles.da40c964.css"><link rel="stylesheet" href="/assets/css/styles.ded2f491.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">油腻中年大叔</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dart/" class="nav-link">Dart</a></div><div class="nav-item"><a href="/spring/" class="nav-link router-link-active">spring</a></div><div class="nav-item"><a href="/drools/" class="nav-link">规则和业务流程</a></div><div class="nav-item"><a href="/eip/" class="nav-link">EIP集成工具</a></div><div class="nav-item"><a href="/other/" class="nav-link">杂项</a></div><div class="nav-item"><a href="/algorithms/" class="nav-link">算法</a></div><div class="nav-item"><a href="/riding/" class="nav-link">骑行</a></div><div class="nav-item"><a href="/ev3/" class="nav-link">LEGO EV3 </a></div><div class="nav-item"><a href="/mb/" class="nav-link">Micro:bit </a></div><div class="nav-item"><a href="/math/" class="nav-link">小学数学 </a></div><div class="nav-item"><a href="/eng/" class="nav-link">小学英语 </a></div><div class="nav-item"><a href="/jp/" class="nav-link">日语 </a></div><div class="nav-item"><a href="/gs1/" class="nav-link">GS-1</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dart/" class="nav-link">Dart</a></div><div class="nav-item"><a href="/spring/" class="nav-link router-link-active">spring</a></div><div class="nav-item"><a href="/drools/" class="nav-link">规则和业务流程</a></div><div class="nav-item"><a href="/eip/" class="nav-link">EIP集成工具</a></div><div class="nav-item"><a href="/other/" class="nav-link">杂项</a></div><div class="nav-item"><a href="/algorithms/" class="nav-link">算法</a></div><div class="nav-item"><a href="/riding/" class="nav-link">骑行</a></div><div class="nav-item"><a href="/ev3/" class="nav-link">LEGO EV3 </a></div><div class="nav-item"><a href="/mb/" class="nav-link">Micro:bit </a></div><div class="nav-item"><a href="/math/" class="nav-link">小学数学 </a></div><div class="nav-item"><a href="/eng/" class="nav-link">小学英语 </a></div><div class="nav-item"><a href="/jp/" class="nav-link">日语 </a></div><div class="nav-item"><a href="/gs1/" class="nav-link">GS-1</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/spring/writetofile.html" class="sidebar-link">JavaIO-DataoutPut</a></li><li><a href="/spring/java-classloader.html" class="sidebar-link">java类加载器</a></li><li><a href="/spring/jvm-stack.html" class="sidebar-link">jvm 相关</a></li><li><a href="/spring/annotation.html" class="sidebar-link">注解的使用</a></li><li><a href="/spring/SpringAnnotations.html" class="sidebar-link">Spring注解速查</a></li><li><a href="/spring/springboot.html" class="sidebar-link">Springboot 配置速查</a></li><li><a href="/spring/springbootRun.html" class="sidebar-link">Springboot启动过程</a></li><li><a href="/spring/springboot-gitlab-ci.html" class="sidebar-link">Springboot基于Gitlab持续集成</a></li><li><a href="/spring/SpringBootTesting.html" class="sidebar-link">SpringBoot 测试</a></li><li><a href="/spring/TestingControllersInSpringboot.html" class="sidebar-link">SpringBoot的Contoller测试</a></li><li><a href="/spring/JacksonObjectMapperCheetSheet.html" class="active sidebar-link">Jackson ObjectMapper CheetSheet</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#jackson-databind" class="sidebar-link">Jackson Databind</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#jackson-objectmapper-example" class="sidebar-link">Jackson ObjectMapper Example</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#how-jackson-objectmapper-matches-json-fields-to-java-fields" class="sidebar-link">How Jackson ObjectMapper Matches JSON Fields to Java Fields</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#jackson-annotations" class="sidebar-link">Jackson Annotations</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#read-object-from-json-string" class="sidebar-link">Read Object From JSON String</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#read-object-from-json-reader" class="sidebar-link">Read Object From JSON Reader</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#read-object-from-json-file" class="sidebar-link">Read Object From JSON File</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#read-object-from-json-via-url" class="sidebar-link">Read Object From JSON via URL</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#read-object-from-json-inputstream" class="sidebar-link">Read Object From JSON InputStream</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#read-object-from-json-byte-array" class="sidebar-link">Read Object From JSON Byte Array</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#read-object-array-from-json-array-string" class="sidebar-link">Read Object Array From JSON Array String</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#read-object-list-from-json-array-string" class="sidebar-link">Read Object List From JSON Array String</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#read-map-from-json-string" class="sidebar-link">Read Map from JSON String</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#ignore-unknown-json-fields" class="sidebar-link">Ignore Unknown JSON Fields</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#fail-on-null-json-values-for-primitive-types" class="sidebar-link">Fail on Null JSON Values for Primitive Types</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#custom-deserializer" class="sidebar-link">Custom Deserializer</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#write-json-from-objects" class="sidebar-link">Write JSON From Objects</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#custom-serializer" class="sidebar-link">Custom Serializer</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#jackson-date-formats" class="sidebar-link">Jackson Date Formats</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#date-to-long" class="sidebar-link">Date to long</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#date-to-string" class="sidebar-link">Date to String</a></li></ul></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#jackson-json-tree-model" class="sidebar-link">Jackson JSON Tree Model</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#jackson-tree-model-example" class="sidebar-link">Jackson Tree Model Example</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#the-jackson-jsonnode-class" class="sidebar-link">The Jackson JsonNode Class</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#convert-object-to-jsonnode" class="sidebar-link">Convert Object to JsonNode</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#convert-jsonnode-to-object" class="sidebar-link">Convert JsonNode to Object</a></li></ul></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#reading-and-writing-other-data-formats-with-the-jackson-objectmapper" class="sidebar-link">Reading and Writing Other Data Formats With the Jackson ObjectMapper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#reading-and-writing-cbor-with-the-jackson-objectmapper" class="sidebar-link">Reading and Writing CBOR With the Jackson ObjectMapper</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#reading-and-writing-messagepack-with-the-jackson-objectmapper" class="sidebar-link">Reading and Writing MessagePack With the Jackson ObjectMapper</a></li><li class="sidebar-sub-header"><a href="/spring/JacksonObjectMapperCheetSheet.html#reading-and-writing-yaml-with-the-jackson-objectmapper" class="sidebar-link">Reading and Writing YAML With the Jackson ObjectMapper</a></li></ul></li></ul></li><li><a href="/spring/lock.html" class="sidebar-link">占用bug分析</a></li><li><a href="/spring/singleton-scope.html" class="sidebar-link">Spring MVC 并发与线程安全</a></li><li><a href="/spring/singleton.html" class="sidebar-link">设计模式-单件</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="jackson-objectmapper-cheetsheet"><a href="#jackson-objectmapper-cheetsheet" aria-hidden="true" class="header-anchor">#</a> Jackson ObjectMapper CheetSheet</h1> <p><a href="http://tutorials.jenkov.com/java-json/jackson-objectmapper.html" target="_blank" rel="noopener noreferrer">原文<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>The Jackson ObjectMapper class (com.fasterxml.jackson.databind.ObjectMapper) is the simplest way to parse JSON with Jackson. The Jackson ObjectMapper can parse JSON from a string, stream or file, and create a Java object or object graph representing the parsed JSON. Parsing JSON into Java objects is also referred to as to deserialize Java objects from JSON.</p> <p>The Jackson ObjectMapper can also create JSON from Java objects. Generating JSON from Java objects is also referred to as to serialize Java objects into JSON.</p> <p>The Jackson Object mapper can parse JSON into objects of classes developed by you, or into objects of the built-in JSON tree model explained later in this tutorial.</p> <p>By the way, the reason it is called ObjectMapper is because it maps JSON into Java Objects (deserialization), or Java Objects into JSON (serialization).</p> <h2 id="jackson-databind"><a href="#jackson-databind" aria-hidden="true" class="header-anchor">#</a> Jackson Databind</h2> <p>The ObjectMapper is located in the Jackson Databind project, so your application will need that project on its classpath to work. See the Jackson Installation tutorial for more information.</p> <h2 id="jackson-objectmapper-example"><a href="#jackson-objectmapper-example" aria-hidden="true" class="header-anchor">#</a> Jackson ObjectMapper Example</h2> <p>Here is a quick Java Jackson ObjectMapper example:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

String carJson <span class="token operator">=</span>
    <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
    Car car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>carJson<span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;car brand = &quot;</span> <span class="token operator">+</span> car<span class="token punctuation">.</span><span class="token function">getBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;car doors = &quot;</span> <span class="token operator">+</span> car<span class="token punctuation">.</span><span class="token function">getDoors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>The Car class was made by me. As you can see, the Car.class is parsed as the second parameter to the readValue() method. The first parameter of readValue() is the source of the JSON (string, stream or file). Here is how the Car class looks:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> String brand <span class="token operator">=</span> null<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> doors <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> String <span class="token function">getBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>brand<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span>   <span class="token function">setBrand</span><span class="token punctuation">(</span>String brand<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>brand <span class="token operator">=</span> brand<span class="token punctuation">;</span><span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span>  <span class="token function">getDoors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>doors<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> setDoors <span class="token punctuation">(</span><span class="token keyword">int</span> doors<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>doors <span class="token operator">=</span> doors<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="how-jackson-objectmapper-matches-json-fields-to-java-fields"><a href="#how-jackson-objectmapper-matches-json-fields-to-java-fields" aria-hidden="true" class="header-anchor">#</a> How Jackson ObjectMapper Matches JSON Fields to Java Fields</h2> <p>To read Java objects from JSON with Jackson properly, it is important to know how Jackson maps the fields of a JSON object to the fields of a Java object, so I will explain how Jackson does that.</p> <p>By default Jackson maps the fields of a JSON object to fields in a Java object by matching the names of the JSON field to the getter and setter methods in the Java object. Jackson removes the &quot;get&quot; and &quot;set&quot; part of the names of the getter and setter methods, and converts the first character of the remaining name to lowercase.</p> <p>For instance, the JSON field named brand matches the Java getter and setter methods called getBrand() and setBrand(). The JSON field named engineNumber would match the getter and setter named getEngineNumber() and setEngineNumber().</p> <p>If you need to match JSON object fields to Java object fields in a different way, you need to either use a custom serializer and deserializer, or use some of the many Jackson Annotations.</p> <h2 id="jackson-annotations"><a href="#jackson-annotations" aria-hidden="true" class="header-anchor">#</a> Jackson Annotations</h2> <p>Jackson contains a set of Java annotations which you can use to modify how Jackson reads and writes JSON to and from Java objects. Jackson's annotations are explained in my Jackson annotation tutorial.</p> <h2 id="read-object-from-json-string"><a href="#read-object-from-json-string" aria-hidden="true" class="header-anchor">#</a> Read Object From JSON String</h2> <p>Reading a Java object from a JSON string is pretty easy. You have actually already seen an example of how. The JSON string is passed as the first parameter to the ObjectMapper's readValue() method. Here is another simplified example:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

String carJson <span class="token operator">=</span>
    <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>carJson<span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="read-object-from-json-reader"><a href="#read-object-from-json-reader" aria-hidden="true" class="header-anchor">#</a> Read Object From JSON Reader</h2> <p>You can also read an object from JSON loaded via a Reader instance. Here is an example of how to do that:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

String carJson <span class="token operator">=</span>
        <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 4 }&quot;</span><span class="token punctuation">;</span>
Reader reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringReader</span><span class="token punctuation">(</span>carJson<span class="token punctuation">)</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>reader<span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="read-object-from-json-file"><a href="#read-object-from-json-file" aria-hidden="true" class="header-anchor">#</a> Read Object From JSON File</h2> <p>Reading JSON from a file can of course be done via a FileReader (instead of a StringReader - see previous section), but also with a File object. Here is an example of reading JSON from a file:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

File file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;data/car.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="read-object-from-json-via-url"><a href="#read-object-from-json-via-url" aria-hidden="true" class="header-anchor">#</a> Read Object From JSON via URL</h2> <p>You can read an object from JSON via a URL (java.net.URL) like this:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

URL url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">&quot;file:data/car.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>This example uses a file URL, but you can use an HTTP URL too (similar to http://jenkov.com/some-data.json ).</p> <h2 id="read-object-from-json-inputstream"><a href="#read-object-from-json-inputstream" aria-hidden="true" class="header-anchor">#</a> Read Object From JSON InputStream</h2> <p>It is also possible to read an object from JSON via an InputStream with the Jackson ObjectMapper. Here is an example of reading JSON from an InputStream :</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

InputStream input <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;data/car.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="read-object-from-json-byte-array"><a href="#read-object-from-json-byte-array" aria-hidden="true" class="header-anchor">#</a> Read Object From JSON Byte Array</h2> <p>Jackson also supports reading objects from a JSON byte array. Here is an example of reading an object from a JSON byte array:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

String carJson <span class="token operator">=</span>
        <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> carJson<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="read-object-array-from-json-array-string"><a href="#read-object-array-from-json-array-string" aria-hidden="true" class="header-anchor">#</a> Read Object Array From JSON Array String</h2> <p>The Jackson ObjectMapper can also read an array of objects from a JSON array string. Here is an example of reading an object array from a JSON array string:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>String jsonArray <span class="token operator">=</span> <span class="token string">&quot;[{\&quot;brand\&quot;:\&quot;ford\&quot;}, {\&quot;brand\&quot;:\&quot;Fiat\&quot;}]&quot;</span><span class="token punctuation">;</span>

ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Car<span class="token punctuation">[</span><span class="token punctuation">]</span> cars2 <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>jsonArray<span class="token punctuation">,</span> Car<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Notice how the Car array class is passed as the second parameter to the readValue() method to tell the ObjectMapper that you want to read an array of Car instances.</p> <p>Reading arrays of objects also works with other JSON sources than a string. For instance, a file, URL, InputStream, Reader etc.</p> <h2 id="read-object-list-from-json-array-string"><a href="#read-object-list-from-json-array-string" aria-hidden="true" class="header-anchor">#</a> Read Object List From JSON Array String</h2> <p>The Jackson ObjectMapper can also read a Java List of objects from a JSON array string. Here is an example of reading a List of objects from a JSON array string:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>String jsonArray <span class="token operator">=</span> <span class="token string">&quot;[{\&quot;brand\&quot;:\&quot;ford\&quot;}, {\&quot;brand\&quot;:\&quot;Fiat\&quot;}]&quot;</span><span class="token punctuation">;</span>

ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

List<span class="token generics function"><span class="token punctuation">&lt;</span>Car<span class="token punctuation">&gt;</span></span> cars1 <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>jsonArray<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">TypeReference</span><span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>Car<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Notice the TypeReference parameter passed to readValue(). This parameter tells Jackson to read a List of Car objects.</p> <h2 id="read-map-from-json-string"><a href="#read-map-from-json-string" aria-hidden="true" class="header-anchor">#</a> Read Map from JSON String</h2> <p>The Jackson ObjectMapper can also read a Java Map from a JSON string. This can be useful if you do not know ahead of time the exact JSON structure that you will be parsing. Usually you will be reading a JSON object into a Java Map. Each field in the JSON object will become a key, value pair in the Java Map.</p> <p>Here is an example of reading a Java Map from a JSON String with the Jackson ObjectMapper:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>String jsonObject <span class="token operator">=</span> <span class="token string">&quot;{\&quot;brand\&quot;:\&quot;ford\&quot;, \&quot;doors\&quot;:5}&quot;</span><span class="token punctuation">;</span>

ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token punctuation">&gt;</span></span> jsonMap <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>jsonObject<span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">TypeReference</span><span class="token operator">&lt;</span>Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span>Object<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="ignore-unknown-json-fields"><a href="#ignore-unknown-json-fields" aria-hidden="true" class="header-anchor">#</a> Ignore Unknown JSON Fields</h2> <p>Sometimes you have more fields in the JSON than you do in the Java object you want to read from the JSON. By default Jackson throws an exception in that case, saying that it does not know field XYZ because it is not found in the Java object.</p> <p>However, sometimes it should be allowed to have more fields in the JSON than in the corresponding Java object. For instance, if you are parsing JSON from a REST service which contains much more data than you need. In that case, Jackson enables you to ignore these extra fields with a Jackson configuration. Here is how configuring the Jackson ObjectMapper to ignore unknown fields looks:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>objectMapper<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span>
    DeserializationFeature<span class="token punctuation">.</span>FAIL_ON_UNKNOWN_PROPERTIES<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="fail-on-null-json-values-for-primitive-types"><a href="#fail-on-null-json-values-for-primitive-types" aria-hidden="true" class="header-anchor">#</a> Fail on Null JSON Values for Primitive Types</h2> <p>It is possible to configure the Jackson ObjectMapper to fail if a JSON string contains a field with its value set to null, for a field which in the corresponding Java object is a primitive type (int, long, float, double etc.). To explain what I mean in more detail, look at this Car class:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> String brand <span class="token operator">=</span> null<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> doors <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> String <span class="token function">getBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>brand<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span>   <span class="token function">setBrand</span><span class="token punctuation">(</span>String brand<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>brand <span class="token operator">=</span> brand<span class="token punctuation">;</span><span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span>  <span class="token function">getDoors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>doors<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> setDoors <span class="token punctuation">(</span><span class="token keyword">int</span> doors<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>doors <span class="token operator">=</span> doors<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Notice how the doors field is an int which is a primitive type in Java (not an object).</p> <p>Now imagine you have a JSON string corresponding to a Car object which looks like this:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;brand&quot;</span><span class="token operator">:</span><span class="token string">&quot;Toyota&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;doors&quot;</span><span class="token operator">:</span><span class="token null">null</span> <span class="token punctuation">}</span>
```java
Notice how the doors field contains the value <span class="token null">null</span>. A primitive type in Java cannot have the value <span class="token null">null</span>. Therefore the Jackson ObjectMapper by default ignores a <span class="token null">null</span> value for a primitive field. However<span class="token punctuation">,</span> you can configure the Jackson ObjectMapper to fail instead. Here is how you configure the Jackson ObjectMapper to fail for <span class="token null">null</span> JSON values for primitive fields in Java classes<span class="token operator">:</span>
```java
ObjectMapper objectMapper = new ObjectMapper(<span class="token punctuation">)</span><span class="token punctuation">;</span>

objectMapper.configure(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>With FAIL_ON_NULL_FOR_PRIMITIVES configuration value set to true, you will get an exception when trying to parse a null JSON field into a primitive Java field. Here is a Java Jackson ObjectMapper example that will fail because a JSON field contains a null value for a primitive Java field:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

objectMapper<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span>DeserializationFeature<span class="token punctuation">.</span>FAIL_ON_NULL_FOR_PRIMITIVES<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

String carJson <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;brand\&quot;:\&quot;Toyota\&quot;, \&quot;doors\&quot;:null }&quot;</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>carJson<span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Notice how the JSON string has the doors field set to null. The exception thrown from this code will look something like this:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>Exception in thread <span class="token string">&quot;main&quot;</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>exc<span class="token punctuation">.</span>MismatchedInputException<span class="token operator">:</span>
    Cannot map `null` into type <span class="token keyword">int</span>
    <span class="token punctuation">(</span>set DeserializationConfig<span class="token punctuation">.</span>DeserializationFeature<span class="token punctuation">.</span>FAIL_ON_NULL_FOR_PRIMITIVES to <span class="token string">'false'</span> to allow<span class="token punctuation">)</span>
 at <span class="token punctuation">[</span>Source<span class="token operator">:</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span>
    <span class="token string">&quot;{ &quot;</span>brand<span class="token string">&quot;:&quot;</span>Toyota<span class="token string">&quot;, &quot;</span>doors<span class="token string">&quot;:null }&quot;</span><span class="token punctuation">;</span> line<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> column<span class="token operator">:</span> <span class="token number">29</span><span class="token punctuation">]</span> <span class="token punctuation">(</span>through reference chain<span class="token operator">:</span> jackson<span class="token punctuation">.</span>Car<span class="token punctuation">[</span><span class="token string">&quot;doors&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="custom-deserializer"><a href="#custom-deserializer" aria-hidden="true" class="header-anchor">#</a> Custom Deserializer</h2> <p>Sometimes you might want to read a JSON string into a Java object in a way that is different from how the Jackson ObjectMapper does this by default. You can add a custom deserializer to the ObjectMapper which can perform the deserialization as you want it done.</p> <p>Here is how you register and use a custom deserializer with the Jackson ObjectMapper:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>String json <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Ford\&quot;, \&quot;doors\&quot; : 6 }&quot;</span><span class="token punctuation">;</span>

SimpleModule module <span class="token operator">=</span>
        <span class="token keyword">new</span> <span class="token class-name">SimpleModule</span><span class="token punctuation">(</span><span class="token string">&quot;CarDeserializer&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Version</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span><span class="token function">addDeserializer</span><span class="token punctuation">(</span>Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CarDeserializer</span><span class="token punctuation">(</span>Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ObjectMapper mapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mapper<span class="token punctuation">.</span><span class="token function">registerModule</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>And here is how the CarDeserializer class looks:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token punctuation">.</span>JsonParser<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token punctuation">.</span>JsonToken<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>DeserializationContext<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>deser<span class="token punctuation">.</span>std<span class="token punctuation">.</span>StdDeserializer<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CarDeserializer</span> <span class="token keyword">extends</span> <span class="token class-name">StdDeserializer</span><span class="token generics function"><span class="token punctuation">&lt;</span>Car<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token function">CarDeserializer</span><span class="token punctuation">(</span>Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">&gt;</span> vc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>vc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> Car <span class="token function">deserialize</span><span class="token punctuation">(</span>JsonParser parser<span class="token punctuation">,</span> DeserializationContext deserializer<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>
        Car car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>parser<span class="token punctuation">.</span><span class="token function">isClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            JsonToken jsonToken <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>JsonToken<span class="token punctuation">.</span>FIELD_NAME<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>jsonToken<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                String fieldName <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">getCurrentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>

                jsonToken <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;brand&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    car<span class="token punctuation">.</span><span class="token function">setBrand</span><span class="token punctuation">(</span>parser<span class="token punctuation">.</span><span class="token function">getValueAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;doors&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    car<span class="token punctuation">.</span><span class="token function">setDoors</span><span class="token punctuation">(</span>parser<span class="token punctuation">.</span><span class="token function">getValueAsInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> car<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="write-json-from-objects"><a href="#write-json-from-objects" aria-hidden="true" class="header-anchor">#</a> Write JSON From Objects</h2> <p>The Jackson ObjectMapper can also be used to generate JSON from an object. You do so using the one of the methods:</p> <ul><li>writeValue()</li> <li>writeValueAsString()</li> <li>writeValueAsBytes()
Here is an example of generating JSON from a Car object, like the ones used in earlier examples:</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span>brand <span class="token operator">=</span> <span class="token string">&quot;BMW&quot;</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span>doors <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>

objectMapper<span class="token punctuation">.</span><span class="token function">writeValue</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;data/output-2.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> car<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>This example first creates an ObjectMapper, then a Car instance, and finally calls the ObjectMapper's writeValue() method which converts the Car object to JSON and writes it to the given FileOutputStream.</p> <p>The ObjectMapper's writeValueAsString() and writeValueAsBytes() both generate JSON from an object, and return the generated JSON as a String or as a byte array. Here is an example showing how to call writeValueAsString():</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span>brand <span class="token operator">=</span> <span class="token string">&quot;BMW&quot;</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span>doors <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>

String json <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>The JSON output from this example would be:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">{</span><span class="token string">&quot;brand&quot;</span><span class="token operator">:</span><span class="token string">&quot;BMW&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;doors&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="custom-serializer"><a href="#custom-serializer" aria-hidden="true" class="header-anchor">#</a> Custom Serializer</h2> <p>Sometimes you want to serialize a Java object to JSON differently than what Jackson does by default. For instance, you might want to use different field names in the JSON than in the Java object, or you might want to leave out certain fields altogether.</p> <p>Jackson enables you to set a custom serializer on the ObjectMapper. This serializer is registered for a certain class, and will then be called whenever the ObjectMapper is asked to serialize a Car object. Here is an example that shows how to register a custom serializer for the Car class:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>CarSerializer carSerializer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CarSerializer</span><span class="token punctuation">(</span>Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

SimpleModule module <span class="token operator">=</span>
        <span class="token keyword">new</span> <span class="token class-name">SimpleModule</span><span class="token punctuation">(</span><span class="token string">&quot;CarSerializer&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Version</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span><span class="token function">addSerializer</span><span class="token punctuation">(</span>Car<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> carSerializer<span class="token punctuation">)</span><span class="token punctuation">;</span>

objectMapper<span class="token punctuation">.</span><span class="token function">registerModule</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span><span class="token function">setBrand</span><span class="token punctuation">(</span><span class="token string">&quot;Mercedes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span><span class="token function">setDoors</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

String carJson <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>The string produced by this Jackson custom serializer example looks like this:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">{</span><span class="token string">&quot;producer&quot;</span><span class="token operator">:</span><span class="token string">&quot;Mercedes&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;doorCount&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The CarSerializer class looks like this:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token punctuation">.</span>JsonGenerator<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>SerializerProvider<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>ser<span class="token punctuation">.</span>std<span class="token punctuation">.</span>StdSerializer<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CarSerializer</span> <span class="token keyword">extends</span> <span class="token class-name">StdSerializer</span><span class="token generics function"><span class="token punctuation">&lt;</span>Car<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token function">CarSerializer</span><span class="token punctuation">(</span>Class<span class="token generics function"><span class="token punctuation">&lt;</span>Car<span class="token punctuation">&gt;</span></span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">serialize</span><span class="token punctuation">(</span>Car car<span class="token punctuation">,</span> JsonGenerator jsonGenerator<span class="token punctuation">,</span>
                          SerializerProvider serializerProvider<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>

        jsonGenerator<span class="token punctuation">.</span><span class="token function">writeStartObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jsonGenerator<span class="token punctuation">.</span><span class="token function">writeStringField</span><span class="token punctuation">(</span><span class="token string">&quot;producer&quot;</span><span class="token punctuation">,</span> car<span class="token punctuation">.</span><span class="token function">getBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jsonGenerator<span class="token punctuation">.</span><span class="token function">writeNumberField</span><span class="token punctuation">(</span><span class="token string">&quot;doorCount&quot;</span><span class="token punctuation">,</span> car<span class="token punctuation">.</span><span class="token function">getDoors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jsonGenerator<span class="token punctuation">.</span><span class="token function">writeEndObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>Notice that the second parameter passed to the serialize() method is a Jackson JsonGenerator instance. You can use this instance to serialize the object - in this case a Car object.</p> <h2 id="jackson-date-formats"><a href="#jackson-date-formats" aria-hidden="true" class="header-anchor">#</a> Jackson Date Formats</h2> <p>By default Jackson will serialize a java.util.Date object to its long value, which is the number of milliseconds since January 1st 1970. However, Jackson also supports formatting dates as strings. In this section we will take a closer look at the Jackson date formats.</p> <h3 id="date-to-long"><a href="#date-to-long" aria-hidden="true" class="header-anchor">#</a> Date to long</h3> <p>First I will show you the default Jackson date format that serializes a Date to the number of milliseconds since January 1st 1970 (its long representation). Here is an example Java class that contains a Date field:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Transaction</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> String type <span class="token operator">=</span> null<span class="token punctuation">;</span>
    <span class="token keyword">private</span> Date date <span class="token operator">=</span> null<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">Transaction</span><span class="token punctuation">(</span>String type<span class="token punctuation">,</span> Date date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>date <span class="token operator">=</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> String <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setType</span><span class="token punctuation">(</span>String type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> Date <span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDate</span><span class="token punctuation">(</span>Date date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>date <span class="token operator">=</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>Serializing a Transaction object with the Jackson ObjectMapper would be done just as you would serialize any other Java object. Here is how the code looks:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>Transaction transaction <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Transaction</span><span class="token punctuation">(</span><span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
String output <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>transaction<span class="token punctuation">)</span><span class="token punctuation">;</span>

System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span><span class="token punctuation">;</span>
The output printed from <span class="token keyword">this</span> example would be similar to<span class="token operator">:</span>

<span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;date&quot;</span><span class="token operator">:</span><span class="token number">1516442298301</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Notice the format of the date field: It is a long number, just as explained above.</p> <h3 id="date-to-string"><a href="#date-to-string" aria-hidden="true" class="header-anchor">#</a> Date to String</h3> <p>The long serialization format of a Date is not very readable for human beings. Therefore Jackson supports a textual date format too. You specify the exact Jackson date format to use by setting a SimpleDateFormat on the ObjectMapper. Here is an example of setting a SimpleDateFormat on a Jackson ObjectMapper:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>SimpleDateFormat dateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
objectMapper2<span class="token punctuation">.</span><span class="token function">setDateFormat</span><span class="token punctuation">(</span>dateFormat<span class="token punctuation">)</span><span class="token punctuation">;</span>

String output2 <span class="token operator">=</span> objectMapper2<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>transaction<span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>output2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The output printed from this example would look similar to this:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;date&quot;</span><span class="token operator">:</span><span class="token string">&quot;2018-01-20&quot;</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Notice how the date field is now formatted as a String.</p> <h2 id="jackson-json-tree-model"><a href="#jackson-json-tree-model" aria-hidden="true" class="header-anchor">#</a> Jackson JSON Tree Model</h2> <p>Jackson has a built-in tree model which can be used to represent a JSON object. Jackson's tree model is useful if you don't know how the JSON you will receive looks, or if you for some reason cannot (or just don't want to) create a class to represent it. The Jackson Tree Model is also useful if you need to manipulate the JSON before using or forwarding it. All of these situations can easily occur in a Data Streaming scenario.</p> <p>The Jackson tree model is represented by the JsonNode class. You use the Jackson ObjectMapper to parse JSON into a JsonNode tree model, just like you would have done with your own class.</p> <p>The following sections will show how to read and write JsonNode instances with the Jackson ObjectMapper. The Jackson JsonNode class itself is covered in more detail in its own tutorial about the Jackson JsonNode.</p> <h3 id="jackson-tree-model-example"><a href="#jackson-tree-model-example" aria-hidden="true" class="header-anchor">#</a> Jackson Tree Model Example</h3> <p>Here is a simple Jackson tree model example:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>String carJson <span class="token operator">=</span>
        <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>

    JsonNode jsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>carJson<span class="token punctuation">,</span> JsonNode<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>As you can see, the JSON string is parsed into a JsonNode object instead of a Car object, simply by passing the JsonNode.class as second parameter to the readValue() method instead of the Car.class used in the example earlier in this tutorial.</p> <p>The ObjectMapper class also has a special readTree() method which always returns a JsonNode. Here is an example of parsing JSON into a JsonNode with the ObjectMapper readTree() method:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>String carJson <span class="token operator">=</span>
        <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>

    JsonNode jsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readTree</span><span class="token punctuation">(</span>carJson<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="the-jackson-jsonnode-class"><a href="#the-jackson-jsonnode-class" aria-hidden="true" class="header-anchor">#</a> The Jackson JsonNode Class</h3> <p>The JsonNode class lets you navigate the JSON as a Java object in a quite flexible and dynamic way. As mentioned earlier, the JsonNode class is covered in more detail in its own tutorial, but I will just show you the basics of how to use it here.</p> <p>Once you have parsed your JSON into a JsonNode (or a tree of JsonNode instances) you can navigate the JsonNode tree model. Here is a JsonNode example that shows how to access JSON fields, arrays and nested objects:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>String carJson <span class="token operator">=</span>
        <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5,&quot;</span> <span class="token operator">+</span>
        <span class="token string">&quot;  \&quot;owners\&quot; : [\&quot;John\&quot;, \&quot;Jack\&quot;, \&quot;Jill\&quot;],&quot;</span> <span class="token operator">+</span>
        <span class="token string">&quot;  \&quot;nestedObject\&quot; : { \&quot;field\&quot; : \&quot;value\&quot; } }&quot;</span><span class="token punctuation">;</span>

ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">try</span> <span class="token punctuation">{</span>

    JsonNode jsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>carJson<span class="token punctuation">,</span> JsonNode<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    JsonNode brandNode <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;brand&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    String brand <span class="token operator">=</span> brandNode<span class="token punctuation">.</span><span class="token function">asText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;brand = &quot;</span> <span class="token operator">+</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>

    JsonNode doorsNode <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;doors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> doors <span class="token operator">=</span> doorsNode<span class="token punctuation">.</span><span class="token function">asInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;doors = &quot;</span> <span class="token operator">+</span> doors<span class="token punctuation">)</span><span class="token punctuation">;</span>

    JsonNode array <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;owners&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    JsonNode jsonNode <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    String john <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">asText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;john  = &quot;</span> <span class="token operator">+</span> john<span class="token punctuation">)</span><span class="token punctuation">;</span>

    JsonNode child <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;nestedObject&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    JsonNode childField <span class="token operator">=</span> child<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;field&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    String field <span class="token operator">=</span> childField<span class="token punctuation">.</span><span class="token function">asText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;field = &quot;</span> <span class="token operator">+</span> field<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>Notice that the JSON string now contains an array field called owners and a nested object field called nestedObject.</p> <p>Regardless of whether you are accessing a field, array or nested object you use the get() method of the JsonNode class. By providing a string as parameter to the get() method you can access a field of a JsonNode. If the JsonNode represents an array, you need to pass an index to the get() method instead. The index specifies what element in the array you want to get.</p> <h3 id="convert-object-to-jsonnode"><a href="#convert-object-to-jsonnode" aria-hidden="true" class="header-anchor">#</a> Convert Object to JsonNode</h3> <p>It is possible to use the Jackson ObjectMapper to convert a Java object to a JsonNode with the JsonNode being a JSON representation of the Java object converted. You convert a Java object to a JsonNode via the Jackson ObjectMapper valueToTree() method. Here is an example of converting a Java object to a JsonNode using the ObjectMapper valueToTree() method:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span>brand <span class="token operator">=</span> <span class="token string">&quot;Cadillac&quot;</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span>doors <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>

JsonNode carJsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">valueToTree</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="convert-jsonnode-to-object"><a href="#convert-jsonnode-to-object" aria-hidden="true" class="header-anchor">#</a> Convert JsonNode to Object</h3> <p>You can convert a JsonNode to a Java object, using the Jackson ObjectMapper treeToValue() method. This is similar to parsing a JSON string (or other source) into a Java object with the Jackson ObjectMapper. The only difference is, that the JSON source is a JsonNode. Here is an example of converting a JsonNode to a Java object using the Jackson ObjectMapper treeToValue() method:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

String carJson <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

JsonNode carJsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readTree</span><span class="token punctuation">(</span>carJson<span class="token punctuation">)</span><span class="token punctuation">;</span>

Car car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">treeToValue</span><span class="token punctuation">(</span>carJsonNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>The example above is a bit &quot;artificial&quot; in that we first convert a JSON string to a JsonNode and then convert the JsonNode to a Car object. Obviously, if we have a reference to a raw JSON string you might as well convert it directly to a Car object, without converting it to a JsonNode first. However, the example above is constructed to show how to convert a JsonNode to a Java object. That is why.</p> <h2 id="reading-and-writing-other-data-formats-with-the-jackson-objectmapper"><a href="#reading-and-writing-other-data-formats-with-the-jackson-objectmapper" aria-hidden="true" class="header-anchor">#</a> Reading and Writing Other Data Formats With the Jackson ObjectMapper</h2> <p>It is possible to read and write other data formats than JSON with the Jackson ObjectMapper. The Jackson ObjectMapper can read and write these data formats too (and possibly more):</p> <ul><li>CBOR</li> <li>MessagePack</li> <li>YAML
Some of these data formats are more compact than JSON, and therefore take up less space when stored, and are faster to read and write than JSON is. In the following sections I will show you how to read and write some of these data formats with the Jackson ObjectMapper.</li></ul> <h3 id="reading-and-writing-cbor-with-the-jackson-objectmapper"><a href="#reading-and-writing-cbor-with-the-jackson-objectmapper" aria-hidden="true" class="header-anchor">#</a> Reading and Writing CBOR With the Jackson ObjectMapper</h3> <p>CBOR is a binary data format which is compatible with JSON but which is more compact than JSON, and thus faster to read and write. The Jackson ObjectMapper can read and write CBOR in the same way you read and write JSON. In order to read and write CBOR with Jackson, you need to add an extra Maven dependency to your project. Adding the Jackson CBOR Maven dependency is covered in the Jackson Installation Tutorial. Here is an example of writing an object to CBOR with the Jackson ObjectMapper:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token punctuation">.</span>JsonProcessingException<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>ObjectMapper<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>dataformat<span class="token punctuation">.</span>cbor<span class="token punctuation">.</span>CBORFactory<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CborJacksonExample</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CBORFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Employee employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;john@doe.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cborBytes <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsBytes</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">JsonProcessingException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>The cborBytes byte array contains the Employee object serialized to the CBOR data format.</p> <p>Here is an example of reading the CBOR bytes back into an Employee object again:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token punctuation">.</span>JsonProcessingException<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>ObjectMapper<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>dataformat<span class="token punctuation">.</span>cbor<span class="token punctuation">.</span>CBORFactory<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CborJacksonExample</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CBORFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Employee employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;john@doe.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cborBytes <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            cborBytes <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsBytes</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">JsonProcessingException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// normally, rethrow exception here - or don't catch it at all.</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            Employee employee2 <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>cborBytes<span class="token punctuation">,</span> Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>After running this code, the employee2 will point to a different Employee object but which is equal to the object the employee is pointing to, because that object was serialized to CBOR and deserialized back to employee2 again.</p> <h3 id="reading-and-writing-messagepack-with-the-jackson-objectmapper"><a href="#reading-and-writing-messagepack-with-the-jackson-objectmapper" aria-hidden="true" class="header-anchor">#</a> Reading and Writing MessagePack With the Jackson ObjectMapper</h3> <p>YAML is a textual data format which is compatible with JSON but more compact, and thus faster to read and write. The Jackson ObjectMapper can read and write MessagePack in the same way you read and write JSON. In order to read and write MessagePack with Jackson, you need to add an extra Maven dependency to your project. Adding the Jackson MessagePack Maven dependency is covered in the Jackson Installation Tutorial. Here is an example of writing an object to MessagePack with the Jackson ObjectMapper:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token punctuation">.</span>JsonProcessingException<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>ObjectMapper<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>msgpack<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>dataformat<span class="token punctuation">.</span>MessagePackFactory<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessagePackJacksonExample</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MessagePackFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Employee employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;john@doe.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> messagePackBytes <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            messagePackBytes <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsBytes</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">JsonProcessingException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// normally, rethrow exception here - or don't catch it at all.</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>The messagePackBytes byte array contains the Employee object serialized to the MessagePack data format.</p> <p>Here is an example of reading the MessagePack bytes back into an Employee object again:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token punctuation">.</span>JsonProcessingException<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>ObjectMapper<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>msgpack<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>dataformat<span class="token punctuation">.</span>MessagePackFactory<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessagePackJacksonExample</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MessagePackFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Employee employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;john@doe.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> messagePackBytes <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            messagePackBytes <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsBytes</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">JsonProcessingException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// normally, rethrow exception here - or don't catch it at all.</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            Employee employee2 <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>messagePackBytes<span class="token punctuation">,</span> Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;messagePackBytes = &quot;</span> <span class="token operator">+</span> messagePackBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>After running this code, the employee2 will point to a different Employee object but which is equal to the object the employee is pointing to, because that object was serialized to MessagePack and deserialized back to employee2 again.</p> <h3 id="reading-and-writing-yaml-with-the-jackson-objectmapper"><a href="#reading-and-writing-yaml-with-the-jackson-objectmapper" aria-hidden="true" class="header-anchor">#</a> Reading and Writing YAML With the Jackson ObjectMapper</h3> <p>YAML is a textual data format which is similar to JSON but uses a different syntax. The Jackson ObjectMapper can read and write YAML in the same way you read and write JSON. In order to read and write YAML with Jackson, you need to add an extra Maven dependency to your project. Adding the Jackson YAML Maven dependency is covered in the Jackson Installation Tutorial. Here is an example of writing an object to YAML with the Jackson ObjectMapper:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token punctuation">.</span>JsonProcessingException<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>ObjectMapper<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>dataformat<span class="token punctuation">.</span>yaml<span class="token punctuation">.</span>YAMLFactory<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YamlJacksonExample</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">YAMLFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Employee employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;john@doe.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        String yamlString <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            yamlString <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">JsonProcessingException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// normally, rethrow exception here - or don't catch it at all.</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>The yamlString variable contains the Employee object serialized to the YAML data format after executing this code.</p> <p>Here is an example of reading the YAML text into an Employee object again:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token punctuation">.</span>JsonProcessingException<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span>ObjectMapper<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>dataformat<span class="token punctuation">.</span>yaml<span class="token punctuation">.</span>YAMLFactory<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YamlJacksonExample</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ObjectMapper objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">YAMLFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Employee employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;john@doe.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        String yamlString <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            yamlString <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">JsonProcessingException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// normally, rethrow exception here - or don't catch it at all.</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            Employee employee2 <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>yamlString<span class="token punctuation">,</span> Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Done&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>After running this code, the employee2 will point to a different Employee object but which is equal to the object the employee is pointing to, because that object was serialized to YAML and deserialized back to employee2 again.</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/spring/TestingControllersInSpringboot.html" class="prev">
          SpringBoot的Contoller测试
        </a></span> <span class="next"><a href="/spring/lock.html">
          占用bug分析
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/17.5759e4d8.js" defer></script><script src="/assets/js/app.ded2f491.js" defer></script>
  </body>
</html>
