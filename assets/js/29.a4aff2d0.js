(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{329:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"mvel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mvel","aria-hidden":"true"}},[s._v("#")]),s._v(" Mvel")]),s._v(" "),t("h2",{attrs:{id:"facts-used-during-course"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#facts-used-during-course","aria-hidden":"true"}},[s._v("#")]),s._v(" Facts used during course")]),s._v(" "),t("h3",{attrs:{id:"emp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#emp","aria-hidden":"true"}},[s._v("#")]),s._v(" Emp")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("id")]),s._v(" "),t("th",[s._v("name")]),s._v(" "),t("th",[s._v("job")]),s._v(" "),t("th",[s._v("mgr")]),s._v(" "),t("th",[s._v("hiredate")]),s._v(" "),t("th",[s._v("sal")]),s._v(" "),t("th",[s._v("deptno")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("7839")]),s._v(" "),t("td",[s._v("BUSH")]),s._v(" "),t("td",[s._v("PRESIDENT")]),s._v(" "),t("td",[s._v("0")]),s._v(" "),t("td",[s._v("1981")]),s._v(" "),t("td",[s._v("5000.00")]),s._v(" "),t("td",[s._v("10")])]),s._v(" "),t("tr",[t("td",[s._v("7698")]),s._v(" "),t("td",[s._v("BLAIR")]),s._v(" "),t("td",[s._v("MANAGER")]),s._v(" "),t("td",[s._v("7839")]),s._v(" "),t("td",[s._v("1981")]),s._v(" "),t("td",[s._v("2850.00")]),s._v(" "),t("td",[s._v("30")])]),s._v(" "),t("tr",[t("td",[s._v("7782")]),s._v(" "),t("td",[s._v("MERKEL")]),s._v(" "),t("td",[s._v("MANAGER")]),s._v(" "),t("td",[s._v("7839")]),s._v(" "),t("td",[s._v("1981")]),s._v(" "),t("td",[s._v("2450.00")]),s._v(" "),t("td",[s._v("10")])]),s._v(" "),t("tr",[t("td",[s._v("7566")]),s._v(" "),t("td",[s._v("PUTIN")]),s._v(" "),t("td",[s._v("MANAGER")]),s._v(" "),t("td",[s._v("7839")]),s._v(" "),t("td",[s._v("1981")]),s._v(" "),t("td",[s._v("2975.00")]),s._v(" "),t("td",[s._v("20")])]),s._v(" "),t("tr",[t("td",[s._v("7654")]),s._v(" "),t("td",[s._v("CHIRACK")]),s._v(" "),t("td",[s._v("SALESMAN")]),s._v(" "),t("td",[s._v("7698")]),s._v(" "),t("td",[s._v("1981")]),s._v(" "),t("td",[s._v("1250.00")]),s._v(" "),t("td",[s._v("30")])]),s._v(" "),t("tr",[t("td",[s._v("7499")]),s._v(" "),t("td",[s._v("BAROSSO")]),s._v(" "),t("td",[s._v("SALESMAN")]),s._v(" "),t("td",[s._v("7698")]),s._v(" "),t("td",[s._v("1981")]),s._v(" "),t("td",[s._v("1600.00")]),s._v(" "),t("td",[s._v("30")])]),s._v(" "),t("tr",[t("td",[s._v("7844")]),s._v(" "),t("td",[s._v("GATES")]),s._v(" "),t("td",[s._v("SALESMAN")]),s._v(" "),t("td",[s._v("7698")]),s._v(" "),t("td",[s._v("1981")]),s._v(" "),t("td",[s._v("1500.00")]),s._v(" "),t("td",[s._v("30")])]),s._v(" "),t("tr",[t("td",[s._v("7900")]),s._v(" "),t("td",[s._v("BUFFETT")]),s._v(" "),t("td",[s._v("CLERK")]),s._v(" "),t("td",[s._v("7698")]),s._v(" "),t("td",[s._v("1981")]),s._v(" "),t("td",[s._v("950.00")]),s._v(" "),t("td",[s._v("30")])]),s._v(" "),t("tr",[t("td",[s._v("7521")]),s._v(" "),t("td",[s._v("WALTON")]),s._v(" "),t("td",[s._v("SALESMAN")]),s._v(" "),t("td",[s._v("7698")]),s._v(" "),t("td",[s._v("1981")]),s._v(" "),t("td",[s._v("1250.00")]),s._v(" "),t("td",[s._v("30")])]),s._v(" "),t("tr",[t("td",[s._v("7902")]),s._v(" "),t("td",[s._v("TOOSK")]),s._v(" "),t("td",[s._v("ANALYST")]),s._v(" "),t("td",[s._v("7566")]),s._v(" "),t("td",[s._v("1981")]),s._v(" "),t("td",[s._v("3000.00")]),s._v(" "),t("td",[s._v("20")])]),s._v(" "),t("tr",[t("td",[s._v("7369")]),s._v(" "),t("td",[s._v("THATCHER")]),s._v(" "),t("td",[s._v("CLERK")]),s._v(" "),t("td",[s._v("7902")]),s._v(" "),t("td",[s._v("1980")]),s._v(" "),t("td",[s._v("800.00")]),s._v(" "),t("td",[s._v("20")])]),s._v(" "),t("tr",[t("td",[s._v("7788")]),s._v(" "),t("td",[s._v("CARNEGIE")]),s._v(" "),t("td",[s._v("ANALYST")]),s._v(" "),t("td",[s._v("7566")]),s._v(" "),t("td",[s._v("1982")]),s._v(" "),t("td",[s._v("3000.00")]),s._v(" "),t("td",[s._v("20")])]),s._v(" "),t("tr",[t("td",[s._v("7876")]),s._v(" "),t("td",[s._v("FORD")]),s._v(" "),t("td",[s._v("CLERK")]),s._v(" "),t("td",[s._v("7788")]),s._v(" "),t("td",[s._v("1983")]),s._v(" "),t("td",[s._v("1100.00")]),s._v(" "),t("td",[s._v("20")])]),s._v(" "),t("tr",[t("td",[s._v("7934")]),s._v(" "),t("td",[s._v("ELISON")]),s._v(" "),t("td",[s._v("CLERK")]),s._v(" "),t("td",[s._v("7782")]),s._v(" "),t("td",[s._v("1982")]),s._v(" "),t("td",[s._v("1300.00")]),s._v(" "),t("td",[s._v("10")])])])]),s._v(" "),t("h3",{attrs:{id:"dept"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dept","aria-hidden":"true"}},[s._v("#")]),s._v(" Dept")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("deptno")]),s._v(" "),t("th",[s._v("dname")]),s._v(" "),t("th",[s._v("loc")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("10")]),s._v(" "),t("td",[s._v("ACCOUNTING")]),s._v(" "),t("td",[s._v("NEW YORK")])]),s._v(" "),t("tr",[t("td",[s._v("20")]),s._v(" "),t("td",[s._v("RESEARCH")]),s._v(" "),t("td",[s._v("LONDON")])]),s._v(" "),t("tr",[t("td",[s._v("30")]),s._v(" "),t("td",[s._v("SALES")]),s._v(" "),t("td",[s._v("PARIS")])]),s._v(" "),t("tr",[t("td",[s._v("40")]),s._v(" "),t("td",[s._v("OPERATIONS")]),s._v(" "),t("td",[s._v("BERLIN")])])])]),s._v(" "),t("h3",{attrs:{id:"salgrade"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#salgrade","aria-hidden":"true"}},[s._v("#")]),s._v(" Salgrade")]),s._v(" "),t("p",[s._v("+-------+-------+-------+\n| grade | losal | hisal |\n+-------+-------+-------+\n| 1     | 700   | 1200  |\n| 2     | 1201  | 1400  |\n| 3     | 1401  | 2000  |\n| 4     | 2001  | 3000  |\n| 5     | 3001  | 9999  |\n+-------+-------+-------+")]),s._v(" "),t("h2",{attrs:{id:"filtering"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#filtering","aria-hidden":"true"}},[s._v("#")]),s._v(" Filtering")]),s._v(" "),t("h3",{attrs:{id:"根据fact-type过滤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据fact-type过滤","aria-hidden":"true"}},[s._v("#")]),s._v(" 根据Fact Type过滤")]),s._v(" "),t("h4",{attrs:{id:"find-all-facts-of-emp-type"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#find-all-facts-of-emp-type","aria-hidden":"true"}},[s._v("#")]),s._v(" Find all facts of Emp type")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n\te "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n    System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n       e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" \n       e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" \n       e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"   \\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n       e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mgr  "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n       e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hiredate "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" \n       e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" \n       e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h3",{attrs:{id:"根据field过滤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据field过滤","aria-hidden":"true"}},[s._v("#")]),s._v(" 根据field过滤")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n  e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("1500")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n    System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("job  \n    "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"   \\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("  e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mgr  "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hiredate "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal\n     "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"operators-操作符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#operators-操作符","aria-hidden":"true"}},[s._v("#")]),s._v(" Operators 操作符")]),s._v(" "),t("p",[s._v("操作符有很多种类:")]),s._v(" "),t("ul",[t("li",[s._v("Arithmetic operators (+, -, *, /, %) 算数操作符")]),s._v(" "),t("li",[s._v("Relational operators (>, >=, ==, !=) 关系操作符")]),s._v(" "),t("li",[s._v("Logical operators 逻辑操作符")]),s._v(" "),t("li",[s._v('conjunction (and, &&, ",") 与')]),s._v(" "),t("li",[s._v("disjunction (or, ||) 或")]),s._v(" "),t("li",[s._v("negation (!, do not confuse with not) 取反 (!, 不要和 not 混淆)")]),s._v(" "),t("li",[s._v("Drools operators (in, matches, etc...) | Drools 操作符 (in, matches, 等等...)")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("$e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("1500")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("||")]),s._v(" deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("20")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n$e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("1500")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("||")]),s._v(" deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("20")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"relational-operators-关系操作符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#relational-operators-关系操作符","aria-hidden":"true"}},[s._v("#")]),s._v(' Relational Operators 关系操作符 "=""')]),s._v(" "),t("p",[t("strong",[s._v("搜索 managers")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("rule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample"')]),s._v("\nwhen\n   e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"MANAGER"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("7566 PUTIN\tMANAGER   \t7839\t1981 2975 20\n7782 MERKEL\tMANAGER   \t7839\t1981 2450 10\n7698 BLAIR\tMANAGER   \t7839\t1981 2850 30\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("strong",[s._v("1982雇佣的人")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n   e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hiredate "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("1982")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("7934 ELISON\tCLERK   \t7782\t1982 1300 10\n7788 CARNEGIE\tANALYST   \t7566\t1982 3000 20\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("选择除了clerks之外的所有人.")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n  e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'CLERK'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("7788 CARNEGIE\tANALYST   \t7566\t1982 3000 20\n7902 TOOSK\tANALYST   \t7566\t1981 3000 20\n7521 WALTON\tSALESMAN   \t7698\t1981 1250 30\n7844 GATES\tSALESMAN   \t7698\t1981 1500 30\n7499 BAROSSO\tSALESMAN   \t7698\t1981 1600 30\n7654 CHIRACK\tSALESMAN   \t7698\t1981 1250 30\n7566 PUTIN\tMANAGER   \t7839\t1981 2975 20\n7782 MERKEL\tMANAGER   \t7839\t1981 2450 10\n7698 BLAIR\tMANAGER   \t7839\t1981 2850 30\n7839 BUSH\tPRESIDENT   \t0\t1981 5000 10\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[t("strong",[s._v("选择收入在1000和2000之间的人 (inclusive)")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n  e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sal "),t("span",{attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2000")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("7934 ELISON\tCLERK   \t7782\t1982 1300 10\n7876 FORD\tCLERK   \t7788\t1983 1100 20\n7521 WALTON\tSALESMAN   \t7698\t1981 1250 30\n7844 GATES\tSALESMAN   \t7698\t1981 1500 30\n7499 BAROSSO\tSALESMAN   \t7698\t1981 1600 30\n7654 CHIRACK\tSALESMAN   \t7698\t1981 1250 30\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("下面所有语句功能一样")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sal "),t("span",{attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2000")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ne "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" sal  "),t("span",{attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2000")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ne "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2000")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"in-operator-操作符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#in-operator-操作符","aria-hidden":"true"}},[s._v("#")]),s._v(' "in" operator 操作符')]),s._v(" "),t("p",[s._v("in 操作符检查值是否存在于某个集合内\n"),t("strong",[s._v("选择在No.10 或者No.20部门工作的人")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n  e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deptno in "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token number"}},[s._v("10")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{attrs:{class:"token number"}},[s._v("20")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("7934 ELISON\tCLERK   \t7782\t1982 1300 10\n7876 FORD\tCLERK   \t7788\t1983 1100 20\n7788 CARNEGIE\tANALYST   \t7566\t1982 3000 20\n7369 THATCHER\tCLERK   \t7902\t1980 800 20\n7902 TOOSK\tANALYST   \t7566\t1981 3000 20\n7566 PUTIN\tMANAGER   \t7839\t1981 2975 20\n7782 MERKEL\tMANAGER   \t7839\t1981 2450 10\n7839 BUSH\tPRESIDENT   \t0\t1981 5000 10\n\n``"),t("span",{attrs:{class:"token variable"}},[t("span",{attrs:{class:"token variable"}},[s._v("`")]),t("span",{attrs:{class:"token function"}},[s._v("bash")]),s._v("\n上面的语句也可以写成\n"),t("span",{attrs:{class:"token variable"}},[s._v("`")])]),s._v("``java\n e "),t("span",{attrs:{class:"token keyword"}},[s._v(":")]),s._v(" Emp"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" 10 "),t("span",{attrs:{class:"token operator"}},[s._v("||")]),s._v(" deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" 20"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n e "),t("span",{attrs:{class:"token keyword"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Emp"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" 10"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" or Emp"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" 20"),t("span",{attrs:{class:"token punctuation"}},[s._v("))")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("Drools引擎对上两行的评估方式完全不同\n关键字or 会将规则分割成两个规则\n详情请看 RETE TREE 的举例说明!")]),s._v(" "),t("p",[t("strong",[s._v("选择 managers 或者 clerks.")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n  e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job in "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token string"}},[s._v("'CLERK'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{attrs:{class:"token string"}},[s._v("'MANAGER'")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("7934 ELISON\tCLERK   \t7782\t1982 1300 10\n7876 FORD\tCLERK   \t7788\t1983 1100 20\n7369 THATCHER\tCLERK   \t7902\t1980 800 20 \n7900 BUFFETT\tCLERK   \t7698\t1981 950 30\n7566 PUTIN\tMANAGER   \t7839\t1981 2975 20\n7782 MERKEL\tMANAGER   \t7839\t1981 2450 10\n7698 BLAIR\tMANAGER   \t7839\t1981 2850 30\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h4",{attrs:{id:"matches-操作符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#matches-操作符","aria-hidden":"true"}},[s._v("#")]),s._v(" matches 操作符")]),s._v(" "),t("p",[s._v("'maches' 操作符检查值是否与模式匹配 (java 正则表达式).")]),s._v(" "),t("ul",[t("li",[s._v("匹配一个单一字符")]),s._v(" "),t("li",[s._v("匹配任何字符, 包括空（没有）字符.\nMore information: http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html")])]),s._v(" "),t("p",[t("strong",[s._v('选择名字以 "B" 开头的人.')])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n    e"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name matches "),t("span",{attrs:{class:"token string"}},[s._v('"B.*"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("7900 BUFFETT\tCLERK   \t7698\t1981 950 30\n7499 BAROSSO\tSALESMAN   \t7698\t1981 1600 30\n7698 BLAIR\tMANAGER   \t7839\t1981 2850 30\n7839 BUSH\tPRESIDENT   \t0\t1981 5000 10\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("选择名字的第二个字符是‘a’的人")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n    e"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name matches "),t("span",{attrs:{class:"token string"}},[s._v('".A.*"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("7788 CARNEGIE\tANALYST   \t7566\t1982 3000 20\n7521 WALTON\tSALESMAN   \t7698\t1981 1250 30\n7844 GATES\tSALESMAN   \t7698\t1981 1500 30\n7499 BAROSSO\tSALESMAN   \t7698\t1981 1600 30\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("not matches 操作符")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v(" when\n    e"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name not matches "),t("span",{attrs:{class:"token string"}},[s._v('"B.*"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("这样写语法是不正确的：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v(" when\n    e"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v(" matches "),t("span",{attrs:{class:"token string"}},[s._v('"B.*"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    e"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name matches "),t("span",{attrs:{class:"token string"}},[s._v('"B.*"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("strong",[s._v("组合条件")]),s._v("\n你可以使用逻辑操作符书写组合条件")]),s._v(" "),t("ul",[t("li",[s._v('"and", "&&", "," (conjunction) (与)')]),s._v(" "),t("li",[s._v('"or", "||"\t(disjunction) (或)')]),s._v(" "),t("li",[s._v('"not", "!"\t(negation) (反)\nExamples\n'),t("strong",[s._v("搜索收入高于2500的managers")])])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n    e"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"MANAGER"')]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sal "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2500")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),t("span",{attrs:{class:"token number"}},[s._v("7566")]),s._v(" PUTIN\tMANAGER   \t"),t("span",{attrs:{class:"token number"}},[s._v("7839")]),s._v("\t"),t("span",{attrs:{class:"token number"}},[s._v("1981")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2975")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),t("span",{attrs:{class:"token number"}},[s._v("7698")]),s._v(" BLAIR\tMANAGER   \t"),t("span",{attrs:{class:"token number"}},[s._v("7839")]),s._v("\t"),t("span",{attrs:{class:"token number"}},[s._v("1981")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2850")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("30")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("下面的语句运行结果一致")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n    e"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"MANAGER"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" sal "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2500")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v('注意 "," 和 "&&" 优先级不同')]),s._v(" "),t("p",[t("strong",[s._v("Operators priority 操作符优先级")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("(nested) property access    .\t\nList/Map access            [ ]\t\nconstraint binding   :\t\nmultiplicative       * / %\t \nadditive             + -\t \nshift                << >> >>>\t \nrelational           < > <= >= instanceof\t \nequality             == !=\t\nbit-wise non-short circuiting AND               &\t \nbit-wise non-short circuiting exclusive OR\t^\t \nbit-wise non-short circuiting inclusive OR\t|\t \nlogical AND\t&&\t \nlogical OR\t||\t \nternary\t? :\t \nComma separated AND\t,\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h2",{attrs:{id:"从多个fact-types中选择数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从多个fact-types中选择数据","aria-hidden":"true"}},[s._v("#")]),s._v(" 从多个Fact Types中选择数据")]),s._v(" "),t("h3",{attrs:{id:"笛卡儿积-直积"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#笛卡儿积-直积","aria-hidden":"true"}},[s._v("#")]),s._v(" 笛卡儿积 (直积)")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("rule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample"')]),s._v("\nwhen\n   d "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Dept")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dname"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ELISON\tOPERATIONS\nELISON\tSALES\nELISON\tRESEARCH\nELISON\tACCOUNTING\nFORD\tOPERATIONS\nFORD\tSALES\nFORD\tRESEARCH\nFORD\tACCOUNTING\n"),t("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nBUSH\tOPERATIONS\nBUSH\tSALES\nBUSH\tRESEARCH\nBUSH\tACCOUNTING\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("about this cross product ,refer:https://docs.jboss.org/drools/release/7.14.0.Final/drools-docs/html_single/#_cross_products")]),s._v(" "),t("h3",{attrs:{id:"只选择那些在两个fact-types中都匹配deptno的数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#只选择那些在两个fact-types中都匹配deptno的数据","aria-hidden":"true"}},[s._v("#")]),s._v(" 只选择那些在两个fact types中都匹配deptno的数据")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("rule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample"')]),s._v("\nwhen\n  d "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Dept")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" deptno"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dname"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ELISON\tACCOUNTING\nFORD\tRESEARCH\nCARNEGIE\tRESEARCH\nTHATCHER\tRESEARCH\nTOOSK\tRESEARCH\nWALTON\tSALES\nBUFFETT\tSALES\nGATES\tSALES\nBAROSSO\tSALES\nCHIRACK\tSALES\nPUTIN\tRESEARCH\nMERKEL\tACCOUNTING\nBLAIR\tSALES\nBUSH\tACCOUNTING\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"寻找员工姓名和工资等级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#寻找员工姓名和工资等级","aria-hidden":"true"}},[s._v("#")]),s._v(" 寻找员工姓名和工资等级")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("rule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample"')]),s._v("\nwhen\n   s "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Salgrade")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v(">=")]),s._v(" s"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("losal "),t("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("<=")]),s._v(" s"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hisal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" s"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("grade"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ELISON\t2\nFORD\t1\nCARNEGIE\t4\nTHATCHER\t1\nTOOSK\t4\nWALTON\t2\nBUFFETT\t1\nGATES\t3\nBAROSSO\t3\nCHIRACK\t2\nPUTIN\t4\nMERKEL\t4\nBLAIR\t4\nBUSH\t5\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"更加复杂的例子"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更加复杂的例子","aria-hidden":"true"}},[s._v("#")]),s._v(" 更加复杂的例子")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("rule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample"')]),s._v("\nwhen\n   s "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Salgrade")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   d "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Dept")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v(">=")]),s._v(" s"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("losal "),t("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("<=")]),s._v(" s"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hisal"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" deptno"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" s"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("grade "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dname "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ELISON\t2\tACCOUNTING\nFORD\t1\tRESEARCH\nCARNEGIE\t4\tRESEARCH\nTHATCHER\t1\tRESEARCH\nTOOSK\t4\tRESEARCH\nWALTON\t2\tSALES\nBUFFETT\t1\tSALES\nGATES\t3\tSALES\nBAROSSO\t3\tSALES\nCHIRACK\t2\tSALES\nPUTIN\t4\tRESEARCH\nMERKEL\t4\tACCOUNTING\nBLAIR\t4\tSALES\nBUSH\t5\tACCOUNTING\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"搜索特别事实"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搜索特别事实","aria-hidden":"true"}},[s._v("#")]),s._v(" 搜索特别事实")]),s._v(" "),t("h4",{attrs:{id:"寻找有雇员的部门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#寻找有雇员的部门","aria-hidden":"true"}},[s._v("#")]),s._v(" 寻找有雇员的部门")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n   d "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Dept")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   exists "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dname "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ACCOUNTING\nRESEARCH\nSALES\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"寻找没有雇员的部门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#寻找没有雇员的部门","aria-hidden":"true"}},[s._v("#")]),s._v(" 寻找没有雇员的部门")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n   d "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Dept")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   not "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dname "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("OPERATIONS\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"寻找同一类型的facts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#寻找同一类型的facts","aria-hidden":"true"}},[s._v("#")]),s._v(" 寻找同一类型的facts")]),s._v(" "),t("h4",{attrs:{id:"一份谁是谁上级的报告"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一份谁是谁上级的报告","aria-hidden":"true"}},[s._v("#")]),s._v(" 一份谁是谁上级的报告")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("rule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample"')]),s._v("\nwhen\n   e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   m "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mgr"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" reports to "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" m"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ELISON reports to MERKEL\nFORD reports to CARNEGIE\nCARNEGIE reports to PUTIN\nTHATCHER reports to TOOSK\nTOOSK reports to PUTIN\nWALTON reports to BLAIR\nBUFFETT reports to BLAIR\nGATES reports to BLAIR\nBAROSSO reports to BLAIR\nCHIRACK reports to BLAIR\nPUTIN reports to BUSH\nMERKEL reports to BUSH\nBLAIR reports to BUSH\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h3",{attrs:{id:"累计函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#累计函数","aria-hidden":"true"}},[s._v("#")]),s._v(" 累计函数")]),s._v(" "),t("p",[s._v("Drools 有一些 累计（accumulate）函数:")]),s._v(" "),t("ul",[t("li",[s._v("average")]),s._v(" "),t("li",[s._v("min")]),s._v(" "),t("li",[s._v("max")]),s._v(" "),t("li",[s._v("count")]),s._v(" "),t("li",[s._v("sum")])]),s._v(" "),t("h4",{attrs:{id:"寻找整个公司的平均工资"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#寻找整个公司的平均工资","aria-hidden":"true"}},[s._v("#")]),s._v(" 寻找整个公司的平均工资")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n  accumulate "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" avg "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("average")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \nthen    \nSystem"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("avg"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" 2073\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("还可以写成:")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n   avg"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Number")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from accumulate "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{attrs:{class:"token function"}},[s._v("average")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n   System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("avg"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("accumulate "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" avg"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("average")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  e"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n    "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Double"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("avg\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen\n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\t"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" average is "')]),s._v("  "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" avg"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h4",{attrs:{id:"multi-function-accumulates"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#multi-function-accumulates","aria-hidden":"true"}},[s._v("#")]),s._v(" Multi-function Accumulates")]),s._v(" "),t("p",[s._v("你可以一次使用多个累计函数:")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n  accumulate "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  \t$avg "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("average")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  \t$min "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("min")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  \t$max "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("max")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  \t"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n   "),t("span",{attrs:{class:"token string"}},[s._v('"Average salary: "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" $avg "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\n"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n  "),t("span",{attrs:{class:"token string"}},[s._v('"Min salary: "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" $min "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\n"')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v("\n  "),t("span",{attrs:{class:"token string"}},[s._v('"Max salary: "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" $max "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\n"')]),s._v("\n  "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Average salary: 2073.214285714286\nMin salary: 800.0\nMax salary: 5000.0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"groups-组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#groups-组","aria-hidden":"true"}},[s._v("#")]),s._v(" Groups 组")]),s._v(" "),t("p",[s._v("一个组包含了属性值相同的facts。\n在统计学里也叫做factor levels.")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" CARNEGIE "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" ANALYST   "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 3000.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" TOOSK    "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" ANALYST   "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 3000.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" ELISON   "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" CLERK     "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 1300.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" FORD     "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" CLERK     "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 1100.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" THATCHER "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" CLERK     "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 800.00  "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" BUFFETT  "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" CLERK     "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 950.00  "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" PUTIN    "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" MANAGER   "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 2975.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" MERKEL   "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" MANAGER   "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 2450.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" BLAIR    "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" MANAGER   "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 2850.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" BUSH     "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" PRESIDENT "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 5000.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" GATES    "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" SALESMAN  "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 1500.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" BAROSSO  "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" SALESMAN  "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 1600.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" WALTON   "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" SALESMAN  "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 1250.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" CHIRACK  "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" SALESMAN  "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" 1250.00 "),t("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("这里有五个job组:ANALYST, CLERK, MANAGER, PRESIDENT and SALESMAN.")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("rule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample"')]),s._v("\nwhen\n  "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" job"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n  accumulate "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" j"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("    \t$avg "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("average")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \t"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("   "),t("span",{attrs:{class:"token string"}},[s._v('"Average salary in position "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" j "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"is: "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" $avg "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Average salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position CLERKis: 1037.5\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position CLERKis: 1037.5\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position ANALYSTis: 3000.0\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position CLERKis: 1037.5\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position ANALYSTis: 3000.0\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position SALESMANis: 1400.0\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position CLERKis: 1037.5\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position SALESMANis: 1400.0\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position SALESMANis: 1400.0\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position SALESMANis: 1400.0\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position MANAGERis: 2758.3333333333335\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position MANAGERis: 2758.3333333333335\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position MANAGERis: 2758.3333333333335\nAverage salary "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" position PRESIDENTis: 5000.0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h4",{attrs:{id:"declaring-and-inserting-new-facts-声明和插入新的facts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#declaring-and-inserting-new-facts-声明和插入新的facts","aria-hidden":"true"}},[s._v("#")]),s._v(" Declaring and inserting new facts 声明和插入新的facts")]),s._v(" "),t("p",[s._v("上面的解决方法的问题是它重复了 (循环) 14 次 (雇员的数量).")]),s._v(" "),t("p",[s._v('要解决这个问题，我们可以标记“已经处理过的组”。我们可以通过“插入一个新的fact SalByJob"实现这个，然后我们检查是否已经计算出了平均值')]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("not "),t("span",{attrs:{class:"token function"}},[s._v("SalByJob")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" job"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("declare SalByJob\n   job "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" String\n   avgSal "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" Double\nend\n\nrule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample"')]),s._v("\nwhen\n   "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" job"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" and\n   not "),t("span",{attrs:{class:"token function"}},[s._v("SalByJob")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" job"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   accumulate "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" j"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \t$avg "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("average")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   \t"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \nthen    \n   System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("   "),t("span",{attrs:{class:"token string"}},[s._v('"Average salary in position "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" j "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"is: "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" $avg "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\n"')]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),t("span",{attrs:{class:"token function"}},[s._v("insert")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"token class-name"}},[s._v("SalByJob")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("$avg"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("declare SalByJob\n   job "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" String\nend\n\nrule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample"')]),s._v("\nwhen\n   "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" job"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" and\n   not "),t("span",{attrs:{class:"token function"}},[s._v("SalByJob")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" job"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   accumulate "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" j"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \t$avg "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("average")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   \t"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \nthen    \n   System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("   "),t("span",{attrs:{class:"token string"}},[s._v('"Average salary in position "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" j "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"is: "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" $avg "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"\\n"')]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),t("span",{attrs:{class:"token function"}},[s._v("insert")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"token class-name"}},[s._v("SalByJob")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Average salary in position CLERKis: 1037.5\nAverage salary in position ANALYSTis: 3000.0\nAverage salary in position SALESMANis: 1400.0\nAverage salary in position MANAGERis: 2758.3333333333335\nAverage salary in position PRESIDENTis: 5000.0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"过滤累计函数的结果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#过滤累计函数的结果","aria-hidden":"true"}},[s._v("#")]),s._v(" 过滤累计函数的结果")]),s._v(" "),t("p",[s._v("寻找平均工资高于2000的岗位")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("rule "),t("span",{attrs:{class:"token string"}},[s._v('"Find avarage in position"')]),s._v("\nwhen\n    "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" job"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{attrs:{class:"token function"}},[s._v("accumulate")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" j"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" $avgSal"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("average")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    \n    "),t("span",{attrs:{class:"token function"}},[s._v("eval")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$avgSal "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2000")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   \n    "),t("span",{attrs:{class:"token comment"}},[s._v("//   Number(doubleValue > 2000) from $avgSal")]),s._v("\nthen\n    System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" $avgSal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("PRESIDENT 5000.0\nMANAGER 2758.3333333333335\nMANAGER 2758.3333333333335\nMANAGER 2758.3333333333335\nANALYST 3000.0\nANALYST 3000.0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("declare Position\n   job "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" String\n   avergeSalary "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" Double\nend \n\nrule "),t("span",{attrs:{class:"token string"}},[s._v('"Find avarage in position"')]),s._v("\nwhen\n    "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" job"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{attrs:{class:"token function"}},[s._v("accumulate")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" j"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" $avgSal"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("average")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    not "),t("span",{attrs:{class:"token function"}},[s._v("Position")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" j"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    \nthen\n \t"),t("span",{attrs:{class:"token function"}},[s._v("insert")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"token class-name"}},[s._v("Position")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("j"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("$avgSal"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n\nrule "),t("span",{attrs:{class:"token string"}},[s._v('"Get position where average salary > 2000"')]),s._v("\nwhen \n\t$p"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token function"}},[s._v("Position")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("avergeSalary "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("2000")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen\n   System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$p"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" $p"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("avergeSalary"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("h4",{attrs:{id:"选择工资高于公司平均工资的雇员"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选择工资高于公司平均工资的雇员","aria-hidden":"true"}},[s._v("#")]),s._v(" 选择工资高于公司平均工资的雇员")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('when\n Number(avg : longValue) from accumulate (Emp(s: sal),average(s))\n e: Emp(sal > avg)  \nthen    \n System.out.println(e.name + " earns " + e.sal + " the average is " + avg)  \n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"如果我们想寻找所有和blair有一样职位的人"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如果我们想寻找所有和blair有一样职位的人","aria-hidden":"true"}},[s._v("#")]),s._v(" 如果我们想寻找所有和Blair有一样职位的人")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when\n  blr"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v("  "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('"BLAIR"')]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  e"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" blr"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("job"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" works as "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("job"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h4",{attrs:{id:"我们想找20号部门里工资最高的人"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#我们想找20号部门里工资最高的人","aria-hidden":"true"}},[s._v("#")]),s._v(" 我们想找20号部门里工资最高的人")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("when \n  "),t("span",{attrs:{class:"token function"}},[s._v("Number")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$max "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" intValue"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from accumulate "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("max")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("20")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" $max"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"我们想找每个部门工资最高的人"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#我们想找每个部门工资最高的人","aria-hidden":"true"}},[s._v("#")]),s._v(" 我们想找每个部门工资最高的人")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("rule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample"')]),s._v("\nwhen\n  "),t("span",{attrs:{class:"token function"}},[s._v("Dept")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dn "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v("deptno"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{attrs:{class:"token function"}},[s._v("Number")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$max "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" longValue"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from accumulate "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" sal"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" dn "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("max")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  e "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" dn"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sal "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" $max"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),t("span",{attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sal "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"collect-functions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#collect-functions","aria-hidden":"true"}},[s._v("#")]),s._v(" Collect Functions")]),s._v(" "),t("h4",{attrs:{id:"寻找雇员多于3人的部门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#寻找雇员多于3人的部门","aria-hidden":"true"}},[s._v("#")]),s._v(" 寻找雇员多于3人的部门")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("rule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample"')]),s._v("\nwhen \n $d "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Dept")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n $emps "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" ArrayList "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("size "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("3")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n       from collect "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" $d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen    \n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dname "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h4",{attrs:{id:"自定义-accumulate-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义-accumulate-函数","aria-hidden":"true"}},[s._v("#")]),s._v(" 自定义 Accumulate 函数")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("rule "),t("span",{attrs:{class:"token string"}},[s._v('"Sample custom sum function"')]),s._v("\nwhen\nd "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Dept")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n$total "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Number")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" doubleValue "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("100")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  from "),t("span",{attrs:{class:"token function"}},[s._v("accumulate")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),t("span",{attrs:{class:"token function"}},[s._v("Emp")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" deptno "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno"),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" $value "),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" sal "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{attrs:{class:"token function"}},[s._v("init")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),t("span",{attrs:{class:"token keyword"}},[s._v("double")]),s._v(" total "),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{attrs:{class:"token number"}},[s._v("0")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{attrs:{class:"token function"}},[s._v("action")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" total "),t("span",{attrs:{class:"token operator"}},[s._v("+=")]),s._v(" $value"),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{attrs:{class:"token function"}},[s._v("reverse")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" total "),t("span",{attrs:{class:"token operator"}},[s._v("-=")]),s._v(" $value"),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{attrs:{class:"token function"}},[s._v("result")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" total "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nthen\n  System"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("println")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("d"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dname "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v('" department has sum of salaries "')]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" $total"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])])])}],!1,null,null,null);e.options.__file="mvel.md";a.default=e.exports}}]);